{
  "description": "Create a tokenized charge",
  "endpoint": "POST /tokenized-charges",
  "headers": {
    "Authorization": "Bearer {Secret Key}",
    "Content-Type": "application/json"
  },
  "request_spec": {
    "type": "post_body",
    "spec": {
      "token": "Required: This is the card token returned from the transaction verification endpoint as data.card.token",
      "currency": "Required: This is the specified currency to charge the card in, It can be NGN, GHS, KES, UGX, TZS, USD etc.",
      "country": "Required: This is the ISO country code of the merchant e.g. NG, GH, KE etc.",
      "amount": "Required: This is the amount to be charged",
      "email": "Required: This is the email address of the customer",
      "first_name": " This is the first name of the card holder or the customer",
      "last_name": " This is the last name of the card holder or the customer",
      "ip": " IP - Internet Protocol. This represents the IP address of where the transaction is being carried out.",
      "narration": " This is a custom description added by the merchant",
      "tx_ref": "Required: This is the unique reference, unique to the particular transaction being carried out. It is generated by the merchant for every transaction",
      "meta": "passed as \"meta\": [{\"metaname\": \"flightID\", \"metavalue\": \"123949494DC\"}] . These are extra set of parameters that can be passed to your pay button.",
      "device_fingerprint": " This is the fingerpringt for the device being used. It can be generated using a library on whatever platform is being used",
      "payment_plan": " This is the ID of the plan you want to subscribe to. It is returned in the call to create a payment plan as data.id.",
      "subaccounts": " This is an array of objects containing the subaccount IDs to split the payment into. Subaccount ID's are returned in the call to create a subaccount as data.subaccount_id"
    }
  },
  "sample_request": {
    "token": "flw-t1nf-f9b3bf384cd30d6fca42b6df9d27bd2f-xxxx",
    "currency": "NGN",
    "country": "NG",
    "amount": 2000,
    "email": "user@example.com",
    "first_name": "Aubrey",
    "last_name": "Cole",
    "ip": "154.123.220.1",
    "narration": "Sample tokenized charge",
    "tx_ref": "tokenized-c-001"
  },
  "sample_response": {
    "status": "success",
    "message": "Charge successful",
    "data": {
      "id": 1031542,
      "tx_ref": "akhlm-pstmn-238595112",
      "flw_ref": "FLW-M03K-b345c828400bfbdb2f405e4d4a305181",
      "redirect_url": "http://127.0.0",
      "device_fingerprint": "N/A",
      "amount": 2000,
      "charged_amount": 3808.5,
      "app_fee": 1808.5,
      "merchant_fee": 0,
      "processor_response": "Approved",
      "auth_model": "noauth",
      "currency": "NGN",
      "ip": "154.123.220.1",
      "narration": "pstmn charge",
      "status": "successful",
      "payment_type": "card",
      "created_at": "2020-01-24T07:03:36.000Z",
      "account_id": 73362,
      "customer": {
        "id": 210745229,
        "phone_number": null,
        "name": "Yemi Desola",
        "email": "user@gmail.com",
        "created_at": "2020-06-01T01:27:24.000Z"
      },
      "card": {
        "first_6digits": "123456",
        "last_4digits": "7890",
        "issuer": "MASTERCARD GUARANTY TRUST BANK Mastercard Naira Debit Card",
        "country": "NG",
        "type": "MASTERCARD",
        "expiry": "08/22",
        "token": "flw-t1nf-f9b3bf384cd30d6fca42b6df9d27bd2f-m03k"
      }
    }
  }
}
