{
  "description": "This meta describes how to perform card payments using Flutterwave's APIs",
  "endpoint": "POST /charges?type=card",
  "headers": {
    "Authorization": "Bearer {Secret Key}",
    "Content-Type": "application/json"
  },
  "request_spec": {
    "type": "post_body",
    "payload": {
      "tx_ref": "Required: This is a unique reference, unique to the particular transaction being carried out. It is generated by the merchant for every transaction.",
      "amount": "Required: This is the amount to be charged it is passed as - (“amount”:10).",
      "currency": "Required: true : This is the specified currency to charge the card in. With Flutterwave you can charge cards in more than 90 currencies, all you need to do is pass the specified currency you would like to charge the in.",
      "email": "Required: This is the email address of the customer.",
      "phone_number": "This is the phone number linked to the customer's mobile money account.",
      "client_ip": "IP - Internet Protocol. This represents the current IP address of the customer carrying out the transaction.",
      "device_fingerprint": "This is the fingerprint for the device being used. It can be generated using a library on whatever platform is being used.",
      "redirect_url": "This is a url you provide, we redirect to it after the customer completes payment and append the response to it as query parameters. (3DSecure only)",
      "card_number": "Required: This is the number on the cardholders card. E.g. 5399 6701 2349 0229.",
      "cvv": "Required: Card security code. This is 3/4 digit code at the back of the customers card, used for web payments.",
      "expiry_month": "Required: Two-digit number representing the card's expiration month.",
      "expiry_year": "Required: Two- digit number representing the card's expiration year.",
      "meta": "This is to include additional payment information",
      "authorization": "This is an object that contains the authorization details of the card you want to charge. The authorization instructions for card charges are returned in the initiate charge call as meta.authorization",
      "preauthorize": " This should be set to true for preauthoize card transactions"
    },
      "sample_spec_to_encrypt": {
        "card_number": "4556052704172643",
        "cvv": "899",
        "expiry_month": "01",
        "expiry_year": "21",
        "currency": "NGN",
        "amount": "1000",
        "email": "user@gmail.com",
        "phone_number": "0902620185",
        "fullname": "temi desola",
        "client_ip": "169.123.8.9",
        "tx_ref": "MC-3243e",
        "meta": {
          "flightID": "123949494DC"
        },
        "redirect_url": "https://webhook.site/3ed41e38-2c79-4c79-b455-97398730866c",
        "device_fingerprint": "69e6b7f0b72037aa8428b70fbe03986c",
        "preauthorize": true,
        "authorization": {
          "mode": "avs_noauth",
          "pin": "3310",
          "zipcode": "07205",
          "city": "Hillside",
          "address": "470 Mundet PI",
          "state": "NJ",
          "country": "US"
        }
      }
  },

  "sample_request":{
    "client": "W+C+Mi//JFO5/JIbjMu1a/V8bI4vI2wYwNN3VyLb+GiPGpNhjEGakpXboR6O2utcezwqtjpIHlDmPh93Kb0LkbTWuYvDw3fTMnlLu+uUE5UU1YQElo/nHE/BIwM4pNStcPrEYN0ecfBdn7kaJo+QKFz1lm7/HGfeJzK0O37eoCy4PJb+ZIhhoIOgoHWUVvz7IlqgE4OImagpJn4NtNeaOKHIxWBQJLUI3mBOuw5VMVk3GXAb8SZh39oW/VfeEUOVyCMxBC3ZsTVLcd5m599qh78RrcVMky1ZYxNUJCLgTQp0i0uyF5hqAQJ2dFGYBtdWKu0eaZqCkn4VjkiH1jWkrxWAKdD7HmIwhhprJ20V5qGWjX66MFYpzxdMKMQl/f1ncCfgq/jA7J2VjfyUr0zHM9LcCZ7wUiPjVCG0ejpCyvMYBZxz2x+exEd2O8tU7UR0UkJclieLjjXGsaF+Q2PVv+NzARz9MHIBzPQy5zPZKhxfJkbjX/wTVzZzaGFLxcUiXIqeXkA8znR0wpNZvXKUSwpVCA+hCAOd+9Nkofd/6fOnl2ZFkvCkTW+gF5wgSKUs9/MWcJG4Xr9lu74pEFYtqLWFSy4lPJNBDzuBvaIrfOp8bHvEch96XT3lHhBc49g1ntoFZ2Unp8tbUg99BLRj3I9LCPqN4aP4M73jXAgSLWeqgXnHYWeCsbcN5Go3ZzjQ8ng3ElKBHxcHx08t5trn1f5DkoVNoEKv/pJRniOLvONtMSrG/9jcm9LpDUKbo+NVPswax+e+r95YHsvJw8yb4dt1ZTonO+nUzs/xIYCLoYntlyl2dT58lw=="
  },
  "sample_response": {
    "status": "success",
    "message": "Charge initiated",
    "data": {
        "id": 1296042,
        "tx_ref": "gshshjsdfgdgddbfsfe",
        "flw_ref": "FLW-MOCK-856cc923cf8cc750d4df4802c17b7be1",
        "device_fingerprint": "N/A",
        "amount": 1000,
        "charged_amount": 1014,
        "app_fee": 14,
        "merchant_fee": 0,
        "processor_response": "Please enter the OTP sent to your mobile number 080****** and email te**@flutterwave**.com",
        "auth_model": "PIN",
        "currency": "NGN",
        "ip": "::1",
        "narration": "CARD Transaction ",
        "status": "pending",
        "auth_url": "N/A",
        "payment_type": "card",
        "fraud_status": "ok",
        "charge_type": "normal",
        "created_at": "2020-05-19T20:29:21.000Z",
        "account_id": 7813,
        "customer": {
            "id": 385685,
            "phone_number": null,
            "name": "john madakin",
            "email": "test@test.com",
            "created_at": "2020-05-19T20:29:20.000Z"
        },
        "card": {
            "first_6digits": "553188",
            "last_4digits": "2950",
            "issuer": "MASTERCARD  CREDIT",
            "country": "NG",
            "type": "MASTERCARD",
            "expiry": "09/22"
        }
    },
    "meta": {
        "authorization": {
            "mode": "otp",
            "endpoint": "/v3/validate-charge"
        }
    }
  }
}
